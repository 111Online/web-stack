@model  NHS111.Models.Models.Web.OutcomeViewModel
@{
    var error = Model.DosCheckCapacitySummaryResult.HasNoServices;
}
<div class="findservice-form">

    @using (Html.BeginForm("ServiceDetails", "Outcome", FormMethod.Post))
    {
        @Html.HiddenFor(x => Model.Id)
        @Html.HiddenFor(x => Model.JourneyJson)
        @Html.HiddenFor(x => Model.PathwayId)
        @Html.HiddenFor(x => Model.PathwayNo)
        @Html.HiddenFor(x => Model.SymptomGroup)
        @Html.HiddenFor(x => Model.UserInfo.Age)
        @Html.HiddenFor(x => Model.UserInfo.Gender)
        @Html.HiddenFor(x => Model.SymptomDiscriminatorCode)
        @Html.HiddenFor(x => Model.Title)
        @Html.HiddenFor(x => Model.SessionId)
        @Html.HiddenFor(x => Model.TimeFrameText)
        @Html.HiddenFor(x => Model.SymptomDiscriminator.ReasoningText)
        @Html.HiddenFor(x => Model.OutcomeGroup.Id)
        @Html.HiddenFor(x => Model.OutcomeGroup.Text)
        @Html.Hidden("OutcomeGroup.Label", (!ViewData.Keys.Contains("Label") ? "Services" : ViewData["Label"]))
        @Html.Hidden("CurrentView", ((RazorView)ViewContext.View).ViewPath)

        <div class="findservice">
            <h3>@Html.Raw((!ViewData.Keys.Contains("Title") ? "Find a Healthcare provider" : ViewData["Title"]))</h3>
            <div class="section-margin">
                @if (error) {
                    <p class="error">No services could be found for that postcode. Please check and try again.</p>
                }
                @Html.LabelFor(m => m.UserInfo.CurrentAddress.PostCode, "Postcode")
                @Html.TextBoxFor(m => m.UserInfo.CurrentAddress.PostCode, new { @class = "form-control " + (error ? "error" : "") })

                <input class="button button-next" type="submit" name="DosResults" value="@Html.Raw(ViewData["ButtonText"])">

            </div>
        </div>
    }

</div>