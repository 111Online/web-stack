@using System.Configuration
@using NHS111.Models.Models.Web
@{
    Layout = "~/Views/Shared/_LayoutNhsUK.cshtml";
}

@section Title
{NHS 111 Digital}

@section Scripts {

    <!--<script src="~/scripts/jquery2.1.1.min.js"></script> included on layout page -->
    <script src="~/scripts/jquery1.11.2-ui.min.js"></script>
    <script src="~/scripts/jquery.blockUI.js"></script>
    <script src="~/scripts/custom.js"></script>
<script src="~/scripts/disclaimer.js"></script>

}

    <!-- toggle disclaimer popup -->
@{
    var showDisclaimerPopUp = ConfigurationManager.AppSettings["ShowDisclaimerPopUp"];
    if (showDisclaimerPopUp != "false") //if its not there or explicitly set then show the pop up
    {
        <link rel="stylesheet" href="~/Content/css_NhsUK/modal.css">
        <script src="~/scripts/disclaimer-popup.js"></script>
    }
}

<link href="~/Content/css_NhsUK/search.css" media="screen" rel="stylesheet" type="text/css" />

@section HeaderContent {
<div id="disclaimer">


    <div class="header">
        <!--<a href="#" title="Close Disclaimer" class="closeDisclaimer accessibility">[ X ]</a>-->
        <h2 class="discHead">Do I need to call 999?</h2>
    </div>
    <div id="yellowWrapper">
        <div id="disclaimerContentWrapper">
            <div class="contentWrap module-zero">


                <h3 class="heading-med">Call 999 immediately if you have any of the following</h3>

                <ul class="list-conditions" id="disclaimerHelp">
                   
                            <li class="firstChild" id="chestPain">
                                <a href="#">Central crushing <span class="green">chest pain</span></a>
                                <p class="helper">
                                    A feeling of crushing pressure like a heavy weight pushing down on your chest.
                                </p>
                            </li>

                            <li id="stroke">
                                <a href="#">You think you are <span class="green">having a stroke</span> </a>
                                <p class="helper">
                                    Signs of a stroke include being unable to raise both arms and keep them there, difficulty speaking or a lopsided face.
                                </p>
                            </li>

                            <li id="chocking">
                                <a href="#">Severe <span class="green">difficulty breathing</span>, choking or turning blue </a>
                                <p class="helper">
                                    This means you are unable to finish a sentence without stopping several times to take a breath. You may be gasping, wheezing or putting a lot of effort into breathing.
                                </p>
                            </li>
                  
                            <li id="bleeding">
                                <a href="#"><span class="green">Bleeding</span> very heavily </a>
                                <p class="helper">
                                    This means heavy bleeding that is continuing despite attempts to stop it.
                                </p>
                            </li>

                            <li id="injury">
                                <a href="#">A <span class="green">severe injury</span> </a>
                                <p class="helper">
                                    This includes deep wounds, or injuries caused by falls, assault or road traffic accidents and will require an immediate medical assessment.
                                </p>
                            </li>

                            <li class="lastChild" id="seizure">
                                <a href="#">The person you are enquiring about is <span class="green">unconscious </span> having a <span class="green">seizure (fit)</span></a>
                                <p class="helper">
                                    Unconscious - Not awake and totally unaware of what is going on around you. As if you are asleep, but with no response if someone tries to wake you.<br><br>

                                    Seizure - Uncontrolled electrical activity in the brain, which can lead to loss of consciousness and/or loss of bladder and bowel control. Seizures are often known as fits.
                                </p>
                            </li>
                
                </ul>

                <div class="center">
                    <a id="close" class="closeDisclaimer button button-get-started go">None of the above apply</a>
                </div>
            </div>
        </div> <!-- /disclaimerContentWrapper-->
    </div> <!-- /yellowWrapper-->


</div>

}

@section OuterSection {

<div id="progress-panel" class="progress-panel">
    <h2>We'll ask you some questions to assess your symptoms and immediately direct you to the best medical care</h2>
    <hr/>
    <ol>
        <li class="arrow_box feeling-unwell"><span>Feeling Unwell</span></li>
        <li class="arrow_box about-yourself"><span>Tell us what's wrong</span></li>
        <li class="arrow_box ask-questions"><span>We'll ask the right questions</span></li>
        <li class="arrow_box get-help"><span>Get the right help</span></li>
    </ol>
</div>
}

@section FeedbackSection {
    @Html.Partial("_FeedbackDetails", new FeedbackViewModel() { PageId = Request.Url.GetComponents(UriComponents.PathAndQuery, UriFormat.SafeUnescaped) })
}

<div id="search">


    

<div id="wrapper">

    <div class="content-container">
        <div>
            <br />
            <!--<div id="linkBodySearch"> <a href="#" title="Try our body search instead"><span title="Try our body search" class="left">Try our body</span> <span class="bgIcon"></span> <span class="left">search instead </span></a>
            </div>-->
            @using (Html.BeginForm("Gender", "Question", FormMethod.Post))
            {
                <input type="hidden" id="pathwayNo" name="pathwayNo" value=""/>
                <input type="hidden" id="pathwayTitle" name="pathwayTitle" value=""/>

                <h2>I need help with</h2>
                <!--<div>
                    <label for="searchTags">
                        <input type="text" class="input-symptoms" id="searchTags" autocomplete="off" name="searchTags" placeholder="Search for conditions and symptoms"/>
                    </label>
                    @* @Html.ActionLink("GO","Gender","Question", new {@class = "go"})*@
                    <input type="submit" class="button button-get-started go" value="Go" id="submitSearch"/>
                </div>
                <hr/>-->
                <ul class="list-conditions" id="commonConditions">
                    <!--<li><a href="#">Abdominal pain</a></li>
                    <li><a href="#">Fever for under 5 year olds</a></li>
                    <li><a href="#">Diarrhoea and vomiting</a></li>
                    <li><a href="#">Colds and flu</a></li>
                    <li><a href="#">Dental – toothache and dental trauma</a></li>-->

                    <li><input type="submit" class="linkButton" value="Abdominal pain" id="PW520,PW517,PW519,PW516"/></li>
                    <li><input type="submit" class="linkButton" value="A headache" id="PW755,PW752,PW754,PW753,PW754,PW756"/></li>
                    <li><input type="submit" class="linkButton" value="Chest and back pain" id="PA21,PA212,PA213,PA21,PA21,PA212,PA21,PA213"/></li>
                    <li><input type="submit" class="linkButton" value="Cold or flu symptoms" id="PW574,PW1042,PW1043,PW1040,PW574,PW1041"/></li>
                    <li><input type="submit" class="linkButton" value="A rash or skin problem" id="PW1623,PN1620,PW1623,PN1620,PN1620,PW1620,PN1619,PN1619,PW1620,PW1623,PW1620,PN1619,PN1619,PW1620,PN1620,PW1623"/></li>
                    <li><input type="submit" class="linkButton" value="A mental health problem" id="PW1751,PW1751,PW1751,PW1751"/></li>
                    <li><input type="submit" class="linkButton" value="Diarrhoea and vomiting" id="PW1554,PW1708,PW1563,PW1563,PW1555,PW1556,PW1553,PW1708"/></li>
                    <li><input type="submit" class="linkButton" value="Sexual Concerns" id="PW1684,PW1699,PW1698,PW1685"/></li>

                </ul>

                <div id="SearchResults">
                    @*Search Results appended here as list tags*@
                </div>

            }


        </div>
        <!--content end-->

    </div>



</div>

<!--wrapper ends-->
    

    <script>
    // -- search box autocomplete mock script
    $(function () {
        $("#searchTags").autocomplete({
            source: function(request, response) {
                $.ajax({
                    url: '@Url.Action("AutosuggestPathways", "Question")',
                    type: "post",
                    dataType: "json",
                    data: { input: $("#searchTags").val() },
                    success: function(data) {
                        response(JSON.parse(data).slice(0, 7));
                    },
                    error: function(textStatus, errorThrown) {
                        return null;
                    }
                });
            },
            focus: function(event, ui) {
                event.preventDefault();
                $("#searchTags").val(ui.item.label);
                return false;
            },
            select: function(event, ui) {
                event.preventDefault();
                $("#searchTags").val(ui.item.label);
                $("#pathwayTitle").val(ui.item.label);
                $("#pathwayNo").val(ui.item.value);
                $("input.go").removeAttr("disabled");
                return false;
            },
            open: function (event, ui) {
                $('.ui-autocomplete').off('menufocus hover mouseover mouseenter');
            },
            appendTo: $('#SearchResults')
        });

        $(".linkButton").click(
            function() {
                //$("#searchTags").val(this.value);
                $("#pathwayTitle").val(this.value);
                $("#pathwayNo").val(this.id);
            });
 });

    </script>

</div>
